# 🔎 LangChain의 Loader 정리

## 1. Loader란?

* **정의**: LangChain에서 **외부 데이터 소스를 불러와 텍스트로 변환하는 컴포넌트**.
* **핵심 역할**: 다양한 형식의 문서(PDF, Word, CSV, 웹페이지 등)를 **LLM이 처리할 수 있는 텍스트**로 바꿔주는 모듈.
* **비유**: 사람이 책이나 파일을 읽고 머릿속에 내용을 “텍스트로 이해하는 과정”과 유사.

![images](https://github.com/KoreaEva/HOL/raw/master/AzureOpenAI/part2%20RAG/images/05.Langchain_loaders.png)

---

## 2. 왜 Loader가 중요한가?

1. **데이터 다양성 지원**

   * 기업 문서, 이메일, DB, 웹페이지 등 형식이 제각각.
   * Loader는 이런 **이질적인 데이터 포맷을 통일된 텍스트 데이터로 변환**.
2. **RAG 기반 애플리케이션 필수 요소**

   * 검색을 위해 문서를 **벡터DB에 저장하기 전 단계**가 바로 Loader.
3. **확장성**

   * 다양한 포맷을 지원하므로, LLM 활용 범위를 넓혀줌.

---

## 3. Loader의 기본 동작 원리

1. **데이터 소스 입력**

   * 파일(PDF, DOCX, PPTX, CSV 등) 또는 URL, API 응답.
2. **Parser 동작**

   * 비정형 문서에서 텍스트를 추출.
   * 예: PDF의 표/이미지 캡션 등도 텍스트로 변환.
3. **문서 객체(Document)로 변환**

   * LangChain의 표준 데이터 구조: `Document(page_content, metadata)`
   * `page_content`: 본문 텍스트
   * `metadata`: 파일 이름, 페이지 번호, 작성일 등 부가정보

---

## 4. LangChain에서 제공하는 주요 Loader

LangChain은 기본적으로 수십 종의 Loader를 지원.

* **파일 기반**

  * `PyPDFLoader`: PDF 문서
  * `UnstructuredFileLoader`: 다양한 일반 파일(txt, html 등)
  * `CSVLoader`: CSV 데이터
  * `Docx2txtLoader`: Word 문서
  * `PPTXLoader`: 파워포인트

* **웹/온라인 소스 기반**

  * `WebBaseLoader`: 웹페이지 크롤링
  * `SitemapLoader`: 사이트맵을 통해 전체 웹 문서 로드
  * `UnstructuredURLLoader`: 특정 URL에서 텍스트 추출

* **DB/서비스 연동**

  * `SQLDatabaseLoader`: SQL DB에서 쿼리 결과 불러오기
  * `GoogleDriveLoader`: 구글 드라이브 문서
  * `NotionLoader`: Notion 페이지

* **기타**

  * `EmailLoader`: 이메일 데이터
  * `SlackLoader`: 슬랙 대화 기록

---

## 5. Loader와 Chunking

* Loader는 **문서를 불러오는 역할**만 수행.
* 불러온 문서는 그대로 쓰기엔 너무 길 수 있음 → **텍스트를 chunk 단위로 분할** 필요.
* 따라서 Loader → **Text Splitter** → Embedding → Vector DB 순서로 진행됨.

---

## 6. Loader의 장점

* **다양한 포맷 지원**: 여러 데이터 소스를 한 번에 활용 가능.
* **표준화된 구조**: 모든 결과가 `Document` 객체로 통일되어, 후속 처리 단순화.
* **생산성 향상**: 개발자가 직접 파서(Parser)를 짤 필요 없음.

---

## 7. Loader의 한계

* **완벽한 추출 불가**: 이미지·표가 많은 PDF 등은 추출 정확도가 떨어질 수 있음.
* **데이터 전처리 필요**: 불필요한 공백, HTML 태그, 메타데이터 정리 과정 필요.
* **성능 편차**: 특정 파일 포맷은 오픈소스 의존성(Unstructured 라이브러리 등)에 따라 성능이 달라짐.

---

## 8. Loader 활용 사례

* **사내 문서 검색 챗봇**: PDF 매뉴얼, 보고서를 Loader로 불러와 RAG에 적용.
* **웹사이트 요약 서비스**: `WebBaseLoader`로 뉴스·블로그 페이지 읽기.
* **데이터 분석**: CSV 파일을 Loader로 불러온 뒤 LLM으로 질의응답.
* **지식관리 자동화**: Notion/Google Drive 문서를 Loader로 가져와 벡터DB에 저장.

---

## 9. Loader와 다른 컴포넌트와의 관계

* **Loader**: 데이터 가져오기
* **Text Splitter**: 데이터 잘게 쪼개기
* **Embedding Model**: 텍스트를 벡터로 변환
* **Vector Store**: 벡터 저장 및 검색
* **Retriever**: 적합한 데이터 가져오기
* → 최종적으로 **RAG 파이프라인** 완성

---

## 10. 앞으로의 발전 방향

* **멀티모달 로더**: 이미지, 오디오, 비디오까지 함께 불러오기.
* **더 강력한 파싱 기능**: 표·그래프·코드 블록까지 정밀하게 텍스트화.
* **자동 태깅/메타데이터 생성**: Loader 단계에서 문서 주제, 키워드 자동 생성.
* **대규모 데이터 처리 최적화**: 수천 개 파일을 병렬 처리하는 로더 개선.
