# Sample 1

## 시작하기

다음은 몇 가지 사용 사례에 대한 예제 코드 조각입니다. Azure OpenAI SDK에 대한 자세한 내용은 전체 문서  및 샘플 을 참조하세요.

###  API 키를 사용한 인증
OpenAI API 엔드포인트의 경우 모델을 배포하여 엔드포인트 URL과 API 키를 생성하고, 이를 통해 서비스에 인증합니다. 이 샘플 엔드포인트와 키는 엔드포인트 URL과 API 키를 포함하는 문자열입니다.

모델이 배포되면 배포 + 엔드포인트 페이지에서 API 엔드포인트 URL과 API 키를 찾을 수 있습니다.

API 키를 사용하여 OpenAI SDK로 클라이언트를 만들려면 API 키를 SDK의 구성에 전달하여 클라이언트를 초기화합니다. 이렇게 하면 OpenAI의 서비스와 원활하게 인증하고 상호 작용할 수 있습니다.

```python
import os
from openai import AzureOpenAI

client = AzureOpenAI(
    api_version="2024-12-01-preview",
    azure_endpoint="https://labuser111-openai.openai.azure.com/",
    api_key=subscription_key,
)
```

### 종속성 설치
pip를 사용하여 Azure Open AI SDK를 설치합니다(필수: Python >=3.8).

```shell
pip install openai
```

### 기본 코드 샘플 실행
이 샘플은 채팅 완료 API에 대한 기본 호출을 보여 줍니다. 호출은 동기적입니다.

```python
import os
from openai import AzureOpenAI

endpoint = "https://labuser111-openai.openai.azure.com/"
model_name = "gpt-4.1-mini"
deployment = "dev-gpt-4.1-mini"

subscription_key = "<your-api-key>"
api_version = "2024-12-01-preview"

client = AzureOpenAI(
    api_version=api_version,
    azure_endpoint=endpoint,
    api_key=subscription_key,
)

response = client.chat.completions.create(
    messages=[
        {
            "role": "system",
            "content": "You are a helpful assistant.",
        },
        {
            "role": "user",
            "content": "I am going to Paris, what should I see?",
        }
    ],
    max_completion_tokens=13107,
    temperature=1.0,
    top_p=1.0,
    frequency_penalty=0.0,
    presence_penalty=0.0,
    model=deployment
)

print(response.choices[0].message.content)
```